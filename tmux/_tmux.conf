###############################################################################
# Tmux Configuration
###############################################################################

# --- General ---
set -g mouse on               # Enable mouse support
set -g history-limit 10000    # Big scrollback buffer

# --- Prefix key (Ctrl-a instead of Ctrl-b) ---
unbind C-b
set-option -g prefix C-a
bind-key C-a send-prefix

# --- Vim-like pane navigation using prefix + h/j/k/l ---
# Remove direct Ctrl-h/l bindings so Vim can use them
unbind -n C-h
unbind -n C-l
unbind -n C-j
unbind -n C-k

# Bind prefix + h/j/k/l to move panes
bind h select-pane -L
bind l select-pane -R
bind j select-pane -D
bind k select-pane -U

# --- Copy mode with Vim keys ---
setw -g mode-keys vi
bind -T copy-mode-vi v send-keys -X begin-selection
bind -T copy-mode-vi y send-keys -X copy-selection-and-cancel

# --- Clipboard integration (macOS) ---
bind -T copy-mode-vi y send-keys -X copy-pipe-and-cancel "pbcopy"

# For Linux with xclip:
# bind -T copy-mode-vi y send-keys -X copy-pipe-and-cancel "xclip -sel clip"